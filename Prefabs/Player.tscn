[gd_scene load_steps=10 format=3 uid="uid://drsmxwpq5c5l5"]

[ext_resource type="Script" path="res://Scripts/PlayerController.cs" id="1_r4ujs"]
[ext_resource type="PackedScene" uid="uid://c52bqmsv2ik7u" path="res://Prefabs/Ball.tscn" id="2_83xqg"]
[ext_resource type="SpriteFrames" uid="uid://cc16i8u3drovi" path="res://Animations/Player_SpriteFrames.tres" id="2_ogeu4"]
[ext_resource type="SpriteFrames" uid="uid://bo840ujxqrtlc" path="res://Animations/Fireball_SpriteFrames.tres" id="3_ybt8w"]
[ext_resource type="SpriteFrames" uid="uid://byyl5r47fkhe1" path="res://Animations/Iceball_SpriteFrames.tres" id="4_8pg0y"]
[ext_resource type="PackedScene" uid="uid://dry6axi4vajsp" path="res://Prefabs/Lifebar.tscn" id="5_qcvfm"]
[ext_resource type="PackedScene" uid="uid://cjwcl3lhku045" path="res://Prefabs/XPbar.tscn" id="6_1d840"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_jynup"]
radius = 15.0
height = 55.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_icb3i"]
radius = 20.0
height = 65.0

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("spriteCanvasItemComponent", "animComponent")]
collision_mask = 4
motion_mode = 1
platform_on_leave = 2
script = ExtResource("1_r4ujs")
spriteCanvasItemComponent = NodePath("Sprite")
animComponent = NodePath("Sprite")

[node name="Sprite" type="AnimatedSprite2D" parent="."]
scale = Vector2(0.75, 0.75)
sprite_frames = ExtResource("2_ogeu4")
animation = &"Die"
autoplay = "Idle"
frame_progress = 0.197374

[node name="Body" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_jynup")

[node name="HurtBox" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 0

[node name="HurtBoxShape" type="CollisionShape2D" parent="HurtBox"]
shape = SubResource("CapsuleShape2D_icb3i")

[node name="IceBall" parent="." instance=ExtResource("2_83xqg")]
type = 1

[node name="AnimatedSprite2D" parent="IceBall" index="0"]
scale = Vector2(0.5, 0.5)
sprite_frames = ExtResource("4_8pg0y")
autoplay = "default"

[node name="FireBall" parent="." instance=ExtResource("2_83xqg")]
position = Vector2(100, 0)
angle = 3.14

[node name="AnimatedSprite2D" parent="FireBall" index="0"]
scale = Vector2(0.5, 0.5)
sprite_frames = ExtResource("3_ybt8w")
autoplay = "default"

[node name="Camera" type="Camera2D" parent="."]

[node name="Lifebar" parent="." node_paths=PackedStringArray("player") instance=ExtResource("5_qcvfm")]
offset_left = -60.0
offset_top = -63.0
offset_right = -60.0
offset_bottom = -63.0
scale = Vector2(0.3, 0.3)
player = NodePath("..")

[node name="XPbar" parent="." node_paths=PackedStringArray("player") instance=ExtResource("6_1d840")]
offset_left = -60.0
offset_top = -47.0
offset_right = -60.0
offset_bottom = -47.0
scale = Vector2(0.3, 0.3)
player = NodePath("..")

[connection signal="Died" from="." to="IceBall" method="OnPlayerDied"]
[connection signal="Died" from="." to="FireBall" method="OnPlayerDied"]
[connection signal="HealthChanged" from="." to="Lifebar" method="OnPlayerHealthChanged"]
[connection signal="MaxHealthChanged" from="." to="Lifebar" method="OnPlayerMaxHealthChanged"]
[connection signal="XPChanged" from="." to="XPbar" method="OnPlayerXPChanged"]
[connection signal="XPToNextLevelChanged" from="." to="XPbar" method="OnPlayerXPToNextLevelChanged"]

[editable path="IceBall"]
[editable path="FireBall"]
